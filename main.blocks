<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="_TxXi+}2+[#}SnfJ,/K#">buf</variable><variable id="grOy:B/3[5i?OO|[5-I.">address</variable></variables><block type="pxt-on-start" id="5f:y6a6}zr,B@sFA(~[/" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="1MbtwR+.c=/m:jXV9t,3"><field name="VAR" id="grOy:B/3[5i?OO|[5-I.">address</field><value name="VALUE"><shadow type="math_number" id="cBE!*c^ml.F.OV/fAL*g"><field name="NUM">48</field></shadow></value><next><block type="typescript_statement" id="F:--nDZ$DOvWBj@=#`K9"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="enum Motorlist {" line1="    //% block=&quot;A&quot;" line2="    M1 = 1," line3="    //% block=&quot;B&quot;" line4="    M2 = 2" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="}5VKMe5eu_2(@H[,3?pj"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="enum Direction1 {" line1="    //% block=&quot;Para a frente&quot;" line2="    Forward = 0," line3="    //% block=&quot;Para trás&quot;" line4="    Backward = 1" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="x!BMJot|l2`6pOa7@uZN"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="enum LED_rgb_L_R {" line1="    //% block=&quot;LED do lado direito&quot;" line2="    LED_R = 1," line3="    //% block=&quot;LED do lado esquerdo&quot;" line4="    LED_L = 0," line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="Gn+U=+lgEY{P1q[4tZ!T"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="enum LED_color {" line1="    //% block=&quot;Vermelho&quot;" line2="    red1 = 1," line3="    //% block=&quot;Verde&quot;" line4="    green1 = 2," line5="    //% block=&quot;Azul&quot;" line6="    blue1 = 3," line7="    //% block=&quot;Ciano&quot;" line8="    cyan = 4," line9="    //% block=&quot;Rosa&quot;" line10="    purple = 5," line11="    //% block=&quot;Branco&quot;" line12="    white = 6," line13="    //% block=&quot;Amarelo&quot;" line14="    yellow = 7," line15="    //% block=&quot;Desligar LED&quot;" line16="    black = 8," line17="" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id="A_}x-5m-[^a_$@vOaUgi"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="enum pwm_led_l {" line1="    //% block=&quot;Vermelho&quot;" line2="    pwm_red_r = 0x08," line3="    //% block=&quot;Verde&quot;" line4="    pwm_green_r = 0x07," line5="    //% block=&quot;Azul&quot;" line6="    pwm_blue_r = 0x06," line7="}" numlines="8"></mutation><next><block type="typescript_statement" id="Y1]%PY|^6hfm81](=jM="><mutation xmlns="http://www.w3.org/1999/xhtml" line0="enum pwm_led_r {" line1="    //% block=&quot;Vermelho&quot;" line2="    pem_red_l = 0x09," line3="    //% block=&quot;Verde&quot;" line4="    pwm_green_l = 0x0a," line5="    //% block=&quot;Azul&quot;" line6="    pwm_blue_l = 0x05," line7="}" numlines="8"></mutation><next><block type="typescript_statement" id="|Dl`7Tpt,-6XF]m)g=[f"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace JuniBot {" line1="" line2="    //% weight=100 color=#79c0f6 icon=&quot;\uf1b9&quot;" line3="    //% block=&quot;Motor = %motor Direção = | $direction Velocidade = $pwmvalue&quot;" line4="    //% pwmvalue.min=0 pwmvalue.max=255 " line5="    //% group=&quot;Motor&quot; weight=65" line6="    export function motor(motor: Motorlist, direction: Direction1, pwmvalue: number) {" line7="        switch (motor) {" line8="            case 1:" line9="                if (direction) {" line10="                    motor_i2cWrite(0x01, pwmvalue); motor_i2cWrite(0x02, 0);" line11="                }" line12="                else {" line13="                    motor_i2cWrite(0x02, pwmvalue); motor_i2cWrite(0x01, 0);" line14="                }" line15="                break;" line16="            case 2:" line17="                if (direction) {" line18="                    motor_i2cWrite(0x04, pwmvalue); motor_i2cWrite(0x03, 0);" line19="                }" line20="                else {" line21="                    motor_i2cWrite(0x03, pwmvalue); motor_i2cWrite(0x04, 0);" line22="                }" line23="                break;" line24="        }" line25="    }" line26="" line27="" line28="    //% block=&quot;Mostrar LED&quot;" line29="    //% group=&quot;RGB LED&quot; weight=65" line30="    export function led_show() {" line31="        let a, s, d;" line32="" line33="        motor_i2cWrite(0x07, 255); motor_i2cWrite(0x06, 255);" line34="        motor_i2cWrite(0x0a, 255); motor_i2cWrite(0x05, 255);" line35="" line36="        for (a = 255; a &gt; 1; a--) {" line37="            motor_i2cWrite(0x08, a);" line38="            motor_i2cWrite(0x09, a);" line39="            basic.pause(5);" line40="        }" line41="" line42="        for (s = 255; s &gt; 1; s--) {" line43="            motor_i2cWrite(0x07, s);" line44="            motor_i2cWrite(0x0a, s);" line45="            basic.pause(5);" line46="        }" line47="" line48="        for (a = 0; a &lt; 255; a++) {" line49="            motor_i2cWrite(0x08, a);" line50="            motor_i2cWrite(0x09, a);" line51="            basic.pause(5);" line52="        }" line53="        //blue" line54="        for (d = 255; d &gt; 1; d--) {" line55="            motor_i2cWrite(0x06, d);" line56="            motor_i2cWrite(0x05, d);" line57="            basic.pause(5);" line58="        }" line59="        //green" line60="        for (s = 0; s &lt; 255; s++) {" line61="            motor_i2cWrite(0x07, s);" line62="            motor_i2cWrite(0x0a, s);" line63="            basic.pause(5);" line64="        }" line65="        //rad" line66="        for (a = 255; a &gt; 1; a--) {" line67="            motor_i2cWrite(0x08, a);" line68="            motor_i2cWrite(0x09, a);" line69="            basic.pause(5);" line70="        }" line71="        for (d = 0; d &lt; 255; d++) {" line72="            motor_i2cWrite(0x06, d);" line73="            motor_i2cWrite(0x05, d);" line74="            basic.pause(5);" line75="        }" line76="        for (a = 0; a &lt; 255; a++) {" line77="            motor_i2cWrite(0x08, a);" line78="            motor_i2cWrite(0x09, a);" line79="            basic.pause(5);" line80="        }" line81="" line82="" line83="    }" line84="" line85="    //% block=&quot;LED do lado direito= |%color PWM= |$value&quot;" line86="    //% direction.shadow=timePicker" line87="    //% value.min=0 value.max=255" line88="    //% group=&quot;RGB LED&quot; weight=66" line89="    export function PWM_LED_R(color: pwm_led_r, value: number) {" line90="        motor_i2cWrite(color, value);" line91="    }" line92="    //% block=&quot;LED do lado esquerdo= |%Cor PWM= |$value&quot;" line93="    //% direction.shadow=timePicker" line94="    //% value.min=0 value.max=255" line95="    //% group=&quot;RGB LED&quot; weight=67" line96="    export function PWM_LED_L(color: pwm_led_l, value: number) {" line97="        motor_i2cWrite(color, value);" line98="    }" line99="" line100="    //% block=&quot;Desligar LED&quot;" line101="    //% group=&quot;RGB LED&quot; weight=64" line102="    export function LED_OFF() {" line103="        motor_i2cWrite(0x08, 255); motor_i2cWrite(0x07, 255); motor_i2cWrite(0x06, 255);" line104="        motor_i2cWrite(0x09, 255); motor_i2cWrite(0x0a, 255); motor_i2cWrite(0x05, 255);" line105="    }" line106="" line107="" line108="    //% block=&quot;RGB = |%Cor = |$color&quot;" line109="    //% direction.shadow=timePicker" line110="    //% group=&quot;RGB LED&quot; weight=68" line111="    export function led_rgb(place: LED_rgb_L_R, color: LED_color) {" line112="        if (place == 1) {" line113="            switch (color) {" line114="                case 1: { motor_i2cWrite(0x08, 0); motor_i2cWrite(0x07, 255); motor_i2cWrite(0x06, 255); };" line115="                    break;" line116="                case 2: { motor_i2cWrite(0x08, 255); motor_i2cWrite(0x07, 0); motor_i2cWrite(0x06, 255); };" line117="                    break;" line118="                case 3: { motor_i2cWrite(0x08, 255); motor_i2cWrite(0x07, 255); motor_i2cWrite(0x06, 0); };" line119="                    break;" line120="                case 4: { motor_i2cWrite(0x08, 255); motor_i2cWrite(0x07, 0); motor_i2cWrite(0x06, 0); };" line121="                    break;" line122="                case 5: { motor_i2cWrite(0x08, 0); motor_i2cWrite(0x07, 255); motor_i2cWrite(0x06, 0); };" line123="                    break;" line124="                case 6: { motor_i2cWrite(0x08, 0); motor_i2cWrite(0x07, 0); motor_i2cWrite(0x06, 0); };" line125="                    break;" line126="                case 7: { motor_i2cWrite(0x08, 0); motor_i2cWrite(0x07, 0); motor_i2cWrite(0x06, 255); };" line127="                    break;" line128="                case 8: { motor_i2cWrite(0x08, 255); motor_i2cWrite(0x07, 255); motor_i2cWrite(0x06, 255); };" line129="                    break;" line130="            }" line131="        }" line132="        if (place == 0) {" line133="            switch (color) {" line134="                case 1: { motor_i2cWrite(0x09, 0); motor_i2cWrite(0x0a, 255); motor_i2cWrite(0x05, 255); };" line135="                    break;" line136="                case 2: { motor_i2cWrite(0x09, 255); motor_i2cWrite(0x0a, 0); motor_i2cWrite(0x05, 255); };" line137="                    break;" line138="                case 3: { motor_i2cWrite(0x09, 255); motor_i2cWrite(0x0a, 255); motor_i2cWrite(0x05, 0); };" line139="                    break;" line140="                case 4: { motor_i2cWrite(0x09, 255); motor_i2cWrite(0x0a, 0); motor_i2cWrite(0x05, 0); };" line141="                    break;" line142="                case 5: { motor_i2cWrite(0x09, 0); motor_i2cWrite(0x0a, 255); motor_i2cWrite(0x05, 0); };" line143="                    break;" line144="                case 6: { motor_i2cWrite(0x09, 0); motor_i2cWrite(0x0a, 0); motor_i2cWrite(0x05, 0); };" line145="                    break;" line146="                case 7: { motor_i2cWrite(0x09, 0); motor_i2cWrite(0x0a, 0); motor_i2cWrite(0x05, 255); };" line147="                    break;" line148="                case 8: { motor_i2cWrite(0x09, 255); motor_i2cWrite(0x0a, 255); motor_i2cWrite(0x05, 255); };" line149="                    break;" line150="            }" line151="        }" line152="    }" line153="" line154="    /**" line155="    * Ultrasonic sensor" line156="    */" line157="    const TRIG_PIN = DigitalPin.P14;" line158="    const ECHO_PIN = DigitalPin.P15;" line159="    pins.setPull(TRIG_PIN, PinPullMode.PullNone);" line160="    let lastTime = 0;" line161="    //% block=&quot;Ultrassónico&quot;" line162="    //% group=&quot;Sensor Ultrassónico&quot; weight=67" line163="    export function ultra(): number {" line164="        //send trig pulse" line165="        pins.digitalWritePin(TRIG_PIN, 0)" line166="        control.waitMicros(2);" line167="        pins.digitalWritePin(TRIG_PIN, 1)" line168="        control.waitMicros(10);" line169="        pins.digitalWritePin(TRIG_PIN, 0)" line170="" line171="        // read echo pulse  max distance : 6m(35000us)" line172="        //2020-7-6 " line173="        // pins.pulseIn():This function has a bug and returns data with large errors." line174="        let t = pins.pulseIn(ECHO_PIN, PulseValue.High, 35000);" line175="        let ret = t;" line176="" line177="        //Eliminate the occasional bad data" line178="        if (ret == 0 &amp;&amp; lastTime != 0) {" line179="            ret = lastTime;" line180="        }" line181="        lastTime = t;" line182="        //2020-7-6" line183="        //It would normally divide by 58, because the pins.pulseIn() function has an error, so it's divided by 58" line184="        return Math.round(ret / 58);" line185="    }" line186="" line187="    /**" line188="     * photoresistance sensor" line189="     */" line190="    //% block=&quot;Lado Esquerdo &quot;" line191="    //% group=&quot;Sensor fotoresistência&quot; weight=66" line192="    export function PH1(): number {" line193="        return pins.analogReadPin(AnalogPin.P1);" line194="    }" line195="" line196="    //% block=&quot;Lado Direito &quot;" line197="    //% group=&quot;Sensor fotoresistência&quot; weight=66" line198="    export function PH2(): number {" line199="        return pins.analogReadPin(AnalogPin.P0);" line200="    }" line201="" line202="    /**" line203="* return 0b01 or 0b10" line204="* 0b01 is the sensor on the left" line205="* 0b10 is the sensor on the right" line206="*/" line207="    pins.setPull(DigitalPin.P12, PinPullMode.PullUp);" line208="    pins.setPull(DigitalPin.P13, PinPullMode.PullUp);" line209="    //% block=&quot;Seguimento de linha&quot;" line210="    //% group=&quot;Line Tracking&quot; weight=68" line211="    export function LineTracking(): number {" line212="        let val = pins.digitalReadPin(DigitalPin.P12) &lt;&lt; 0 | pins.digitalReadPin(DigitalPin.P13) &lt;&lt; 1;" line213="        return val;" line214="    }" line215="" line216="    //% block=&quot;Deixar servo no ângulo: %angle&quot;" line217="    //% group=&quot;Servo&quot; weight=69" line218="    //% angle.min=0 angle.max.max=180" line219="    export function setServo(angle: number): void {" line220="        pins.servoWritePin(AnalogPin.P2, angle)" line221="    }" line222="}" numlines="223"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="31]xVE+?Jz)kZ|9XQv_4" x="0" y="11269"><statement name="HANDLER"><block type="JuniBot_led_rgb" id=";z?!=jzSulhVAb;WOnst"><field name="Cor">LED_rgb_L_R.LED_R</field><field name="color">LED_color.cyan</field><next><block type="JuniBot_led_rgb" id="@s1+AWSN)Z`Qz2aXj#xB"><field name="Cor">LED_rgb_L_R.LED_L</field><field name="color">LED_color.purple</field><next><block type="JuniBot_motor" id="vNaxE*HO3Q|+eQC97-*8"><field name="motor">Motorlist.M1</field><field name="direction">Direction1.Forward</field><value name="pwmvalue"><shadow type="math_number_minmax" id="m$bNyg.0JEHfhs36U8|a"><mutation min="0" max="255" precision="0"></mutation><field name="SLIDER">138</field></shadow></value><next><block type="JuniBot_motor" id="ThEb^@JoP*FTMjCRkn(Z"><field name="motor">Motorlist.M2</field><field name="direction">Direction1.Forward</field><value name="pwmvalue"><shadow type="math_number_minmax" id="Km$5zyJG3ogh~Nh5p*eh"><mutation min="0" max="255" precision="0"></mutation><field name="SLIDER">130</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Ejl?hcEjH.r!h9h8e,}2" x="0" y="11586"><mutation name="motor_i2cWrite" functionid="s=Op0%v(u}.2IlZq^4s/"><arg name="reg" id="0hm5kyiqvge7twje1ydt" type="number"></arg><arg name="value" id="pprjyay3vu9w2bsuy805q" type="number"></arg></mutation><field name="function_name">motor_i2cWrite</field><value name="0hm5kyiqvge7twje1ydt"><block type="argument_reporter_number" id="w%rdD[P`lDN2MX{l7FKf" deletable="false"><field name="VALUE">reg</field></block></value><value name="pprjyay3vu9w2bsuy805q"><block type="argument_reporter_number" id="=).K*9+z2R2-5=vj8MVO" deletable="false"><field name="VALUE">value</field></block></value><statement name="STACK"><block type="typescript_statement" id="iG{a6NP20I`I=g]n=iSV"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let buf = pins.createBuffer(2)" numlines="1" declaredvars="buf"></mutation><next><block type="lists_index_set" id="!ho^;H_=-mVptnys26I_"><value name="LIST"><block type="variables_get" id="Xge;R7~}R`inX4N@T?|="><field name="VAR" id="_TxXi+}2+[#}SnfJ,/K#">buf</field></block></value><value name="INDEX"><shadow type="math_number" id="d=LhOKuzmWG3~}[*8XA+"><field name="NUM">0</field></shadow></value><value name="VALUE"><block type="argument_reporter_number" id="1A@ATog~n$Q?c%IHL3(Y"><field name="VALUE">reg</field></block></value><next><block type="lists_index_set" id="|smUy$7lplCjDyFs}8dQ"><value name="LIST"><block type="variables_get" id="VNbU`(S{T%$VJKlX}Ada"><field name="VAR" id="_TxXi+}2+[#}SnfJ,/K#">buf</field></block></value><value name="INDEX"><shadow type="math_number" id="$/,snu2}lN{`#%t0X6w{"><field name="NUM">1</field></shadow></value><value name="VALUE"><block type="argument_reporter_number" id="#M0o9yx)bT0sDy~ZC4~2"><field name="VALUE">value</field></block></value><next><block type="typescript_statement" id="KeT#2BSGV;V1nR7Cji)D"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.i2cWriteBuffer(address, buf)" numlines="1"></mutation></block></next></block></next></block></next></block></statement></block></xml>